{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '44794510-78ac4561676a1628ffedd5f1c';\n\nexport function getPicturesByQuery(query) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(res => {\n    console.log(res);\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loader = document.querySelector('.loader');\n\nexport function createMarkup(hits) {\n  return hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link js-item\" href=\"${largeImageURL}\" data-image-description=\"${tags}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\" \n                    data-source=\"${largeImageURL}\" \n                    alt=\"${tags}\" \n                     width=\"360\" height=\"200\"\n                    />\n                    </a>\n                <div class=\"image-info-wrap\">\n                    <div class=\"image-info\">\n                        <h2 class=\"title\">\n                        Likes\n                        <p class=\"amount\">${likes}</p>\n                        </h2>\n                    </div>\n                    <div class=\"image-info\">\n                        <h2 class=\"title\">\n                        Views\n                        <p class=\"amount\">${views}</p>\n                        </h2>\n                    </div>\n                    <div class=\"image-info\">\n                        <h2 class=\"title\">\n                        Comments\n                        <p class=\"amount\">${comments}</p>\n                        </h2>\n                    </div>\n                    <div class=\"image-info\">\n                        <h2 class=\"title\">\n                        Downloads\n                        <p class=\"amount\">${downloads}</p>\n                        </h2>\n                    </div>\n                </div>\n        </li>`\n    )\n    .join('');\n}\n\nexport function initializeLightbox() {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nexport function showLoader() {\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n\nexport function onFetchError() {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getPicturesByQuery } from './js/pixabay-api.js';\nimport {\n  createMarkup,\n  initializeLightbox,\n  showLoader,\n  hideLoader,\n  onFetchError,\n} from './js/render-functions.js';\n\nconst gallery = document.querySelector('.js-gallery');\nconst searchForm = document.querySelector('.js-search-form');\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(evt) {\n  evt.preventDefault();\n\n  const form = evt.currentTarget;\n  const queryValue = form.elements.query.value.trim().toLowerCase();\n\n  if (!queryValue) {\n    onFetchError();\n    return;\n  }\n  showLoader();\n\n  getPicturesByQuery(queryValue)\n    .then(data => {\n      if (!data.hits.length) {\n        onFetchError();\n        return;\n      }\n      gallery.innerHTML = createMarkup(data.hits);\n\n      initializeLightbox();\n    })\n    .catch(onFetchError)\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n"],"names":["BASE_URL","API_KEY","getPicturesByQuery","query","searchParams","res","loader","createMarkup","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","initializeLightbox","SimpleLightbox","showLoader","hideLoader","onFetchError","iziToast","gallery","searchForm","handleSearch","evt","form","queryValue","data"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAmBC,EAAO,CACxC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAO,CAEtD,GADA,QAAQ,IAAIA,CAAG,EACX,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCdA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAaC,EAAM,CACjC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,oDAC4CL,CAAa,6BAA6BC,CAAI;AAAA;AAAA;AAAA,2BAGvEF,CAAY;AAAA,mCACJC,CAAa;AAAA,2BACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAQaC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAKhD,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAqB,CAClB,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CAEO,SAASC,GAAa,CAC3BZ,EAAO,MAAM,QAAU,OACzB,CAEO,SAASa,GAAa,CAC3Bb,EAAO,MAAM,QAAU,MACzB,CAEO,SAASc,GAAe,CAC7BC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACN,CAAG,CACH,CCvEA,MAAMC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAa,SAAS,cAAc,iBAAiB,EAE3DA,EAAW,iBAAiB,SAAUC,CAAY,EAElD,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAElB,MAAMC,EAAOD,EAAI,cACXE,EAAaD,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAEpD,GAAI,CAACC,EAAY,CACfP,IACA,MACD,CACDF,IAEAhB,EAAmByB,CAAU,EAC1B,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBR,IACA,MACD,CACDE,EAAQ,UAAYf,EAAaqB,EAAK,IAAI,EAE1CZ,GACN,CAAK,EACA,MAAMI,CAAY,EAClB,QAAQ,IAAM,CACbD,IACAO,EAAK,MAAK,CAChB,CAAK,CACL"}